import { Fragment } from 'react';
import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';
import { State } from '~.storybook/State';
import * as knobs from '@storybook/addon-knobs';
import Button from '~/components/Button';
import DialogBanner from './DialogBanner';

<Meta
  title="Components/DialogBanner"
  component={DialogBanner}
/>

# DialogBanner

<Preview>
  <Story name="Base component">
    <State initialState={{ isVisible: false }}>
      {(state, setState) => (
        <Fragment>
          <DialogBanner
            cta={{
              text: 'Vestibulum ullamcorper.',
              url: '/',
            }}
            heading={knobs.text('heading', 'Maecenas elementum, metus id facilisis', 'Copy')}
            isVisible={state.isVisible}
            message={knobs.text(
              'message',
              'Nullam pretium, risus a dictum rhoncus, ex libero cursus erat, dignissim malesuada tortor justo quis enim. Nulla pellentesque sit amet ante et molestie.',
              'Copy',
            )}
            onClose={() => setState({ ...state, isVisible: false })}
            position={knobs.select('position', ['top', 'bottom'], 'top', 'Presentation')}
            showCloseButton={knobs.boolean('showCloseButton', true, 'Presentation')}
            theme={knobs.select('theme', ['dark', 'black'], 'dark', 'Presentation')}
          />
          <Button
            onClick={() => setState({ ...state, isVisible: true })}
            title="Open Dialog Banner"
          >
            Open Dialog Banner
          </Button>
        </Fragment>
      )}
    </State>
  </Story>
</Preview>

## API

<Props of={DialogBanner} />
